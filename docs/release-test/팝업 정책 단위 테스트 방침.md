제공해주신 `emergency_policy`, `notice_policy`, `update_policy` 스키마를 바탕으로, 팝업들의 **우선순위, 정책 연동, 예외 처리**를 검증하기 위한 **단위 테스트 방침** 문서를 최신 코드 상태에 맞게 업데이트합니다.

핵심 변경 요약
- Notice 재노출 조건: 서버에서 내려오는 announcement.noticeVersion 은 로컬에 저장된 lastSeen 값보다 strictly greater(>) 일 때만 재노출하도록 구현됨(테스트 및 production PopupPolicyManager 반영).
- Update/UpdatePolicy 관련: reshow_interval_hours, max_later_count 로직이 MockTimeProvider/MockSharedPreferences를 통해 단위테스트로 검증됨.
- Emergency 우선순위 및 is_dismissible 동작(닫기 가능 여부)은 PopupManager 테스트에서 검증되어 있음.

테스트용 데이터 모델(요약)
- EmergencyPolicyConfig, NoticePolicyConfig, UpdatePolicyConfig 데이터 클래스(테스트 코드에 이미 정의됨).
- MockPolicyRepository, MockSharedPreferences, MockSystemInfo, MockTimeProvider 를 사용하여 외부 의존성을 격리함.

중요 포인트(테스트 기준)
1) 우선순위: Emergency > Update(force 포함) > Update(비강제 조건 충족) > Notice
2) Notice 노출: announcement.noticeVersion > lastSeen 에서만 노출
3) Update 노출: targetVersion > current OR isForce=true; 비강제일 땐 laterCount/reshow_interval 체크
4) 데이터 실패/예외: 안전하게 PopupResult.None 반환(앱 크래시 방지)

권장 테스트 케이스 (현재 저장소에 구현됨)
- Priority_Emergency_Override
- Priority_ForceUpdate_Override
- Policy_Inactive_Check
- Policy_Data_Failure
- Update_Version_Check
- Update_MaxLater_Check
- Update_Reshow_Interval
- Notice_Version_Check (현재 notice_version 비교는 strict > 로 변경되어 통과)
- Emergency_Dismissible_Checks
- Emergency_Content_Check

실행 방법
- 로컬 단위테스트: Windows에서 .\\gradlew.bat :app:testDebugUnitTest
- 특정 테스트: .\\gradlew.bat :app:test --tests "kr.sweetapps.alcoholictimer.popup.PopupManagerTest.*"
- 리포트: app/build/reports/tests/testDebugUnitTest/index.html

현재 상태
- 로컬에서 관련 단위테스트가 모두 통과함(PopupManager 및 Ads 관련 테스트 포함).
- production PopupPolicyManager에도 noticeVersion > lastSeen 비교 로직이 반영되어 있어 런타임 동작도 일치함.

권장 후속 조치
- CI 파이프라인에 단위테스트 추가하여 PR 단계에서 자동 검증하도록 설정.
- 통합(MockWebServer) 및 계측(Instrumentation) 테스트 추가로 런타임/SDK 통합을 보강.

문의
- CI 설정(예: GitHub Actions 워크플로 생성)이나 통합 테스트용 MockWebServer 샘플이 필요하면 구현해 드리겠습니다.
