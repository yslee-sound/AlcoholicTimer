# 테스트 기기 ID 확인 방법

## 🎯 핵심 요약

### 테스트 기기 ID란?
- **기기(하드웨어)에 고유한 ID** (Google 계정과 무관)
- AdMob에서 테스트 광고를 표시하기 위해 필요
- 한 번 확인하면 계속 동일함

### 빠른 확인 방법
```
1. USB 케이블로 폰과 PC 연결
2. Android Studio > Logcat 열기
3. 앱 실행 (어느 계정으로든 상관없음)
4. Logcat에서 "test device" 검색
5. 표시되는 ID 복사!
```

---

## 📱 상세 확인 방법

### 1단계: USB 디버깅 활성화
- 설정 > 개발자 옵션 > USB 디버깅 켜기
- (개발자 옵션 없으면: 설정 > 휴대전화 정보 > 빌드번호 7번 탭)

### 2단계: PC와 연결
- USB 케이블로 폰과 PC 연결
- "USB 디버깅 허용" 팝업에서 허용

### 3단계: Android Studio에서 Logcat 열기
- Android Studio > 하단 Logcat 탭
- 또는 View > Tool Windows > Logcat

### 4단계: 앱 실행 후 ID 확인
1. 플레이스토어에서 다운받은 앱 실행
2. 광고가 로드될 때까지 대기
3. Logcat 검색창에 `test device` 입력
4. 다음과 같은 메시지 찾기:
   ```
   I/Ads: Use RequestConfiguration.Builder()
         .setTestDeviceIds(Arrays.asList("YOUR_DEVICE_ID_HERE"))
         to get test ads on this device.
   ```
5. `YOUR_DEVICE_ID_HERE` 부분이 본인 기기의 ID!

---

## 🔍 예상 출력 예시

```
I/Ads: Use RequestConfiguration.Builder()
      .setTestDeviceIds(Arrays.asList("33BE2250B43518CCDA7DE426D04EE231"))
      to get test ads on this device.
```

↓ 본인 기기 ID:
```
33BE2250B43518CCDA7DE426D04EE231
```

---

## ⚠️ 주의사항

### ID 형식
- **32자리 16진수 문자열** (예: `33BE2250B43518CCDA7DE426D04EE231`)
- 대문자/소문자 혼용 가능, 하이픈(-) 없음

### 자주 하는 실수
❌ IMEI 번호, Android ID, 시리얼 번호 사용 (X)  
✅ Logcat에 표시되는 AdMob Test Device ID 사용 (O)

---

## 🆘 Logcat에 아무것도 안 나오는 경우

### 체크리스트
- [ ] USB 디버깅이 활성화되어 있는가?
- [ ] 앱에서 광고가 실제로 로드되었는가?
- [ ] Logcat 필터가 "No Filters"인가?
- [ ] Logcat 로그 레벨이 "Verbose" 또는 "Info"인가?

### 해결 방법
1. Logcat 필터를 "No Filters"로 변경
2. 로그 레벨을 "Verbose"로 변경
3. 앱을 완전히 종료하고 다시 실행
4. 광고가 표시될 때까지 기다리기

---

## 📝 확인 완료 후 작업

### 1. MainApplication.kt 수정
```kotlin
val testDeviceIds = if (BuildConfig.DEBUG) {
    listOf("확인한_ID")
} else {
    listOf("확인한_ID")  // 릴리즈에도 동일하게
}
```

### 2. 빌드 후 플레이스토어 업로드
```cmd
.\gradlew.bat bundleRelease
```

### 3. 업데이트 후 테스트 광고 확인
- 플레이스토어에서 업데이트 설치
- 앱 실행
- 광고 상단에 "Test Ad" 표시 확인 ✅

---

## ❓ 자주 묻는 질문

### Q1: 어느 Google 계정으로 앱을 다운받아야 하나요?

**A: 어느 계정으로든 상관없습니다!**

테스트 기기 ID는 Google 계정과 무관하며, 기기(하드웨어) 자체에 고유합니다. 개인 계정으로 다운받든 개발자 계정으로 다운받든 동일한 ID가 나옵니다.

---

### Q2: 개발자 계정으로 다운받으면 자동으로 테스트 광고가 나오나요?

**A: 아니요! 반드시 기기 ID를 코드에 등록해야 합니다!**

개발자 계정이나 내부 테스터 초대는 플레이스토어 다운로드 권한만 관리합니다. 테스트 광고를 보려면 Logcat으로 기기 ID를 확인하고 MainApplication.kt에 등록해야 합니다.

---

### Q3: 계정을 바꾸면 테스트 기기 ID가 바뀌나요?

**A: 아니요! 동일한 기기라면 항상 같은 ID입니다!**

테스트 기기 ID는 기기의 하드웨어 정보와 Android Advertising ID에 기반하므로, Google 계정, 앱 설치 방법, 앱 삭제/재설치와 무관하게 항상 동일합니다.

---

### Q4: 여러 기기에서 같은 계정을 사용하면?

**A: 각 기기마다 다른 테스트 기기 ID가 있습니다!**

폰과 태블릿은 서로 다른 기기이므로 각각의 ID를 확인하여 모두 등록해야 합니다.

```kotlin
listOf(
    "ABC123...",  // 폰
    "XYZ789..."   // 태블릿
)
```

---

### Q5: "귀하는 내부 테스터입니다" 메시지가 나와요!

**A: 과거 내부 테스트에 참여했기 때문입니다.**

이 메시지는 플레이스토어 표시일 뿐 광고 설정과는 무관합니다. 제거하려면:
- Play Console > 테스트 > 내부 테스트 > 테스터 목록에서 본인 제거
- 또는 테스터가 아닌 다른 계정으로 다운받기

**중요**: 테스터 제거해도 기기 ID 등록은 유지해야 합니다!

상세 가이드: [a_INTERNAL_TESTER_MESSAGE.md](a_INTERNAL_TESTER_MESSAGE.md)

---

### Q6: 테스터 목록에서 제거하면 테스트 광고가 안 나오나요?

**A: 아니요! 기기 ID만 제대로 등록되어 있으면 테스트 광고가 나옵니다!**

- **플레이 콘솔 테스터 목록**: 플레이스토어 다운로드 권한만 관리
- **MainApplication.kt 기기 ID**: 테스트 광고 vs 진짜 광고 결정

두 가지는 완전히 별개입니다!

---

## 💡 권장 설정 (프로덕션)

```
플레이 콘솔:
  → 테스터 목록에서 본인 제거 (선택사항, 깔끔한 UI)

MainApplication.kt:
  → 본인 기기 ID는 반드시 등록 (필수, 안전)

결과:
  ✅ "내부 테스터" 메시지 없음
  ✅ 테스트 광고 정상 표시
  ✅ 안전하게 앱 사용 가능
```

---

## 📚 관련 문서

- [광고 안전 가이드 (간단)](a_AD_PRODUCTION_GUIDE_SIMPLE.md)
- [내부 테스터 메시지 제거](a_INTERNAL_TESTER_MESSAGE.md)
- [광고 자세한 가이드](a_INTERNAL_TEST_AD_GUIDE.md)

**A: 아니요! 반드시 기기 ID를 코드에 등록해야 합니다!**

```
잘못된 생각:
  ❌ 개발자 계정으로 다운받으면 자동으로 테스트 광고
  ❌ 내부 테스터로 초대받으면 자동으로 테스트 광고

올바른 방법:
  ✅ Logcat으로 기기 ID 확인
  ✅ MainApplication.kt에 ID 등록
  ✅ 빌드 후 플레이스토어 업로드
  → 그래야 테스트 광고가 나옴!
```

---

### Q3: 계정을 바꾸면 테스트 기기 ID가 바뀌나요?

**A: 아니요! 동일한 기기라면 항상 같은 ID입니다!**

```
테스트 기기 ID는 다음에 기반함:
  ✅ 기기의 하드웨어 정보
  ✅ Android Advertising ID (기기 고유)
  
영향을 주지 않는 것:
  ❌ Google 계정
  ❌ 앱 설치 방법
  ❌ 앱 삭제/재설치
  ❌ 계정 전환
```

---

### Q4: 그럼 어느 계정으로 다운받는 게 더 좋나요?

**A: 편한 대로 하시면 됩니다!**

#### 옵션 1: 개인 계정으로 다운받기 (권장)
```
장점:
  ✅ 일반 사용자와 동일한 환경 테스트
  ✅ 개발자 계정을 따로 관리할 필요 없음
  ✅ 가족/친구와 계정이 섞이지 않음

단점:
  ⚠️ 없음
```

#### 옵션 2: 개발자 계정으로 다운받기
```
장점:
  ✅ 개발 관련 앱을 한곳에 모을 수 있음
  ✅ 통계 확인 시 본인 사용이 섞이지 않음 (하지만 테스트 광고라 어차피 통계 안 들어감)

단점:
  ⚠️ 개발자 계정 전환이 번거로울 수 있음
```

#### 결론:
```
→ 개인 계정으로 다운받고 사용하는 것을 권장!
→ 테스트 기기 ID만 제대로 등록하면 어느 계정이든 안전!
```

---

### Q5: 테스트 기기 ID를 확인할 때도 특정 계정으로 로그인해야 하나요?

**A: 아니요! 어느 계정으로든 상관없습니다!**

```
테스트 기기 ID 확인 절차:
  1. USB 디버깅 활성화
  2. PC와 연결
  3. Logcat 열기
  4. 앱 실행 (어느 계정으로든)
  5. "test device" 검색
  → ID 확인!

어느 단계에서도 특정 계정이 필요하지 않음!
```

---

### Q6: 내부 테스터로 초대받은 계정으로만 다운받을 수 있나요?

**A: 프로덕션 출시 후에는 누구나 다운받을 수 있습니다!**

#### 내부 테스트 단계:
```
- 초대받은 계정으로만 다운 가능
- 하지만 테스트 기기 ID는 여전히 코드에 등록해야 함
```

#### 프로덕션 출시 후 (현재 상태):
```
- 누구나 다운 가능
- 어느 계정으로든 다운받을 수 있음
- 테스트 기기 ID만 등록하면 안전
```

---

### Q7: 여러 기기에서 같은 계정을 사용하면 어떻게 되나요?

**A: 각 기기마다 다른 테스트 기기 ID가 있습니다!**

```
예시:
  본인 계정으로:
  - 폰에서 다운: ID = ABC123...
  - 태블릿에서 다운: ID = XYZ789... (다름!)
  
각 기기의 ID를 모두 등록해야 함:
  listOf(
    "ABC123...",  // 폰
    "XYZ789..."   // 태블릿
  )
```

---

### Q8: "귀하는 내부 테스터입니다. 이 앱은 안전하지 않거나 작동이 불안정할 수 있습니다" 메시지가 나와요!

**A: 정상입니다! 과거 내부 테스트에 참여했기 때문입니다.**

#### 원인:
```
과거: 내부 테스트 단계에서 본인 계정을 테스터로 초대
현재: 프로덕션 출시 완료
하지만: 플레이 콘솔의 테스터 목록에 여전히 본인 계정이 남아있음
결과: 플레이스토어가 "내부 테스터" 메시지 표시
```

#### 해결 방법 1: 테스터 목록에서 제거 (권장)

**플레이 콘솔에서**:
1. Play Console 로그인
2. 앱 선택
3. 좌측 메뉴 > "테스트" > "내부 테스트"
4. "테스터" 탭 선택
5. 본인 이메일 찾아서 제거
6. 저장

**결과**:
- ✅ "내부 테스터입니다" 메시지 사라짐
- ✅ 일반 사용자와 동일한 화면 표시
- ⚠️ 하지만 여전히 본인 기기 ID는 코드에 등록해야 함!

#### 해결 방법 2: 다른 계정으로 다운받기

**개인 계정(테스터가 아닌 계정)으로 다운받기**:
1. 플레이스토어에서 계정 전환
2. 테스터로 초대받지 않은 개인 계정으로 전환
3. 앱 다운로드
4. "내부 테스터" 메시지 없음!

**주의**:
- ✅ 테스트 기기 ID는 계정과 무관 (동일한 기기라면 같은 ID)
- ✅ 어느 계정으로 다운받아도 Logcat에서 ID 확인 가능

#### 해결 방법 3: 무시하기

**메시지를 그냥 무시하고 사용**:
```
장점:
  ✅ 아무 작업 필요 없음
  ✅ 테스터 메시지는 경고일 뿐, 앱 동작에는 영향 없음
  
단점:
  ⚠️ 계속 "내부 테스터" 메시지가 표시됨
  ⚠️ 약간 신경쓰일 수 있음
```

#### 중요: 테스트 기기 ID 등록과는 무관!

```
❌ 잘못된 생각:
  "내부 테스터라서 테스트 광고가 나오는 건가?"
  "테스터 목록에서 제거하면 진짜 광고가 나오나?"

✅ 올바른 이해:
  - 내부 테스터 여부: 플레이스토어 메시지만 영향
  - 테스트 광고 여부: MainApplication.kt의 기기 ID 등록으로 결정
  - 두 가지는 완전히 별개!

예시:
  1. 테스터 목록에 있음 + 기기 ID 등록 안 함 = 진짜 광고
  2. 테스터 목록에 없음 + 기기 ID 등록함 = 테스트 광고
  3. 테스터 목록에 있음 + 기기 ID 등록함 = 테스트 광고 ✅ (권장)
```

---

### Q9: 테스터 목록에서 제거하면 테스트 광고가 안 나오나요?

**A: 아니요! 기기 ID만 제대로 등록되어 있으면 테스트 광고가 나옵니다!**

```
플레이 콘솔 테스터 목록:
  - 플레이스토어에서 앱 다운로드 권한만 관리
  - 내부 테스트 단계에서만 의미가 있음
  - 프로덕션 출시 후에는 의미 없음

MainApplication.kt 기기 ID 등록:
  - 앱 내부의 광고 설정
  - 테스트 광고 vs 진짜 광고를 결정
  - 프로덕션에서 매우 중요!

결론:
  → 테스터 목록에서 제거해도 기기 ID는 유지됨
  → 테스트 광고는 계속 나옴 ✅
```

---

### 💡 권장 설정 (현재 프로덕션 단계)

```
플레이 콘솔:
  → 테스터 목록에서 본인 제거 (선택사항)
  → 깔끔한 플레이스토어 경험

MainApplication.kt:
  → 본인 기기 ID는 반드시 등록 (필수!)
  → 테스트 광고로 안전하게 사용

결과:
  ✅ "내부 테스터" 메시지 없음
  ✅ 테스트 광고 정상 표시
  ✅ 안전하게 앱 사용 가능
```

