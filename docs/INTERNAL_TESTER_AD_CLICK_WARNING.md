# 내부 테스터 광고 클릭 위험 분석 및 해결 방안

**날짜**: 2025-12-17  
**상황**: 내부 테스터로 등록되어 있지만 광고에 "테스트" 마크가 없음  
**결론**: **광고 클릭 절대 금지!**

---

## 🚨 중요: 내부 테스터 ≠ 광고 테스트 모드

### 오해하기 쉬운 개념

| 구분 | 내부 테스터 | 광고 테스트 기기 |
|------|------------|----------------|
| **등록 위치** | Play Console | local.properties |
| **목적** | 앱 배포 전 테스트 | 광고 개발/테스트 |
| **광고 종류** | **실제 광고** ⚠️ | 테스트 광고 ✅ |
| **클릭 시** | **계정 정지 위험** ⚠️ | 안전 ✅ |
| **테스트 마크** | ❌ 없음 | ✅ 있음 |

**핵심**: 
- ⚠️ **내부 테스터 = 실제 광고를 보는 일반 사용자와 동일**
- ⚠️ **본인 광고 클릭 = AdMob 정책 위반**

---

## 🔍 왜 테스트 마크가 없나요?

### 릴리즈 빌드 = 실제 광고

**내부 테스터가 다운로드하는 앱**:
```
Play Console Internal Testing
  ↓
Release AAB 업로드
  ↓
릴리즈 빌드 = 테스트 기기 ID 제거됨
  ↓
실제 광고 표시 (테스트 마크 없음)
```

**build.gradle.kts 설정**:
```kotlin
buildTypes {
    release {
        // Release에서는 테스트 ID 강제 제거
        buildConfigField("String", "UMP_TEST_DEVICE_HASH", "\"\"")
        buildConfigField("String", "ADMOB_TEST_DEVICE_ID", "\"\"")
    }
}
```

**결과**:
- 내부 테스터도 릴리즈 빌드를 다운로드함
- 릴리즈 빌드 = 테스트 ID 없음
- 실제 광고 표시
- **클릭 시 실제 수익 발생 + 본인 클릭으로 계정 정지 위험**

---

## ⚠️ 광고 클릭 시 위험

### AdMob 정책 위반

**금지 행위**:
1. ✗ 본인이 직접 광고 클릭
2. ✗ 친구/가족에게 클릭 요청
3. ✗ 자동 클릭 유도
4. ✗ 의도적인 반복 클릭

**처벌**:
- 1회 경고
- 반복 시 **계정 영구 정지**
- 수익 몰수
- 복구 불가

### 내부 테스터도 예외 없음

**AdMob은 다음을 구분하지 않습니다**:
```
일반 사용자 클릭 = 정상
내부 테스터 클릭 = ⚠️ 위반 (개발자 본인)
친구/가족 클릭 = ⚠️ 위반 (부정 클릭)
```

**AdMob 감지 방법**:
- IP 주소 추적
- 기기 ID 추적
- 클릭 패턴 분석
- 계정 연결 분석

**"나는 내부 테스터인데도 위반인가요?"**
- ⚠️ **예, 위반입니다**
- Play Console 테스터 ≠ AdMob 테스트 기기
- AdMob은 테스터 여부를 모름
- 본인/지인 클릭은 모두 부정 클릭

---

## ✅ 안전한 테스트 방법

### 방법 1: 디버그 빌드 사용 (강력 권장)

**Android Studio에서 직접 설치**:
```powershell
# 디버그 빌드 설치
.\gradlew installDebug

# 또는 Android Studio
Run → Run 'app' (Shift+F10)
```

**장점**:
- ✅ 테스트 광고 표시 ("테스트" 마크 있음)
- ✅ 안전하게 클릭 가능 (수익 없음)
- ✅ 무제한 테스트 가능
- ✅ 계정 안전

**단점**:
- USB 케이블 필요
- Android Studio 필요
- 개발자 모드 활성화 필요

---

### 방법 2: 시각적 확인만 (릴리즈 빌드)

**내부 테스트 앱 사용 시**:
```
1. 앱 실행
2. 광고 영역 확인
   - 위치 확인
   - 크기 확인
   - 레이아웃 확인
3. ⚠️ 광고 절대 클릭하지 않기
4. 스크린샷만 촬영
5. 즉시 앱 종료
```

**확인 항목**:
- ✅ 광고가 표시되는가?
- ✅ 광고 위치가 올바른가?
- ✅ UI가 깨지지 않았는가?
- ✅ 다른 버튼이 가려지지 않는가?
- ❌ 광고 작동은 확인하지 않기

---

### 방법 3: 외부 테스터 활용

**신뢰할 수 있는 지인 1-2명**:
```
1. 외부인 계정 초대 (가족/친구 X)
2. 광고 레이아웃만 확인 요청
3. 클릭하지 말라고 명확히 안내
4. 스크린샷만 받기
```

**주의**:
- ⚠️ 가족/친구 클릭도 부정 클릭으로 감지 가능
- ⚠️ 같은 IP/네트워크면 위험
- ⚠️ 반복 클릭 절대 금지

---

### 방법 4: AdMob 테스트 기기로 등록 (다른 기기)

**별도 테스트 기기 준비**:

#### Step 1: 테스트 기기 ID 확인

**방법 A: Logcat에서 확인**
```
1. 디버그 빌드 실행
2. Logcat 확인:
   "To get test ads on this device, set: ..."
   
예시:
Use RequestConfiguration.Builder()
  .setTestDeviceIds(Arrays.asList("33BE2250B43518CCDA7DE426D04EE231"))
```

**방법 B: 광고 로드 시 확인**
```
1. 릴리즈 앱 실행
2. 광고가 로드될 때 Logcat 확인
3. 테스트 기기 ID 기록
```

#### Step 2: local.properties에 추가

**G:\Workspace\AlcoholicTimer\local.properties**:
```properties
# 현재 기기 (이미 등록됨)
ADMOB_TEST_DEVICE_ID=79DB2DA46501DFD953D9222E13384F99

# 새 테스트 기기 추가 (쉼표로 구분)
ADMOB_TEST_DEVICE_ID=79DB2DA46501DFD953D9222E13384F99,33BE2250B43518CCDA7DE426D04EE231
```

#### Step 3: 디버그 빌드로 테스트

```powershell
# 새 기기에 디버그 빌드 설치
.\gradlew installDebug
```

**결과**:
- ✅ 새 기기에서도 테스트 광고 표시
- ✅ 안전하게 클릭 가능
- ✅ 릴리즈 빌드는 여전히 실제 광고 (보안)

---

## 📊 시나리오별 안전 여부

### 시나리오 1: 디버그 빌드 + 테스트 기기

```
빌드: Debug
기기: local.properties에 등록됨
광고: 테스트 광고 ("테스트" 마크 ✅)
클릭: ✅ 안전 (무제한 가능)
```

**결과**: ✅ 완전히 안전

---

### 시나리오 2: 릴리즈 빌드 + 내부 테스터

```
빌드: Release (Internal Testing)
기기: 등록 안 됨 (강제 제거됨)
광고: 실제 광고 ("테스트" 마크 ❌)
클릭: ⚠️ 위험 (계정 정지)
```

**결과**: ⚠️ **클릭 절대 금지!**

---

### 시나리오 3: 릴리즈 빌드 + 시각적 확인만

```
빌드: Release (Internal Testing)
기기: 등록 안 됨
광고: 실제 광고
행동: 눈으로만 확인, 클릭 안 함
```

**결과**: ✅ 안전 (클릭하지 않으면 OK)

---

### 시나리오 4: Play Store 정식 배포 + 실제 사용자

```
빌드: Release (Production)
사용자: 일반 사용자
광고: 실제 광고
클릭: 정상 (수익 발생)
```

**결과**: ✅ 정상 (본인이 아니므로)

---

## 🎯 현재 상황 맞춤 가이드

### 귀하의 상황

**현재**:
- ✅ 내부 테스터로 등록됨
- ✅ Play Console에서 앱 다운로드
- ✅ 앱 정상 작동
- ❌ 광고에 "테스트" 마크 없음 (실제 광고)

**위험도**:
- ⚠️ **높음** - 실제 광고이므로 클릭 시 계정 정지

---

### 권장 행동

#### 즉시 할 일

1. **광고 절대 클릭하지 않기** ⚠️
   - 실수로 클릭 가능성 있으면 즉시 앱 종료

2. **시각적 확인만**
   - 광고가 표시되는가? ✅
   - 레이아웃이 정상인가? ✅
   - 다른 UI가 가려지지 않는가? ✅

3. **스크린샷 촬영**
   - 광고 영역 캡처
   - 레이아웃 문제 확인
   - 개발자에게 공유 가능

---

#### 앞으로 할 일

**기능 테스트용**:
```powershell
# Android Studio에서 디버그 빌드 설치
Run → Run 'app' (Shift+F10)
```

**또는 Gradle**:
```powershell
.\gradlew installDebug
```

**릴리즈 테스트용**:
- 광고는 시각적으로만 확인
- 기능 테스트는 디버그 빌드 사용
- Internal Testing은 전반적인 UX 확인용

---

## 🛡️ 계정 보호 체크리스트

### 절대 하지 말아야 할 것

- ❌ 내부 테스트 앱에서 광고 클릭
- ❌ 릴리즈 빌드에서 광고 클릭 (테스트 마크 없으면)
- ❌ 가족/친구에게 광고 클릭 요청
- ❌ "테스트니까 괜찮겠지" 생각
- ❌ 실수로 터치했다고 반복

### 안전한 행동

- ✅ 디버그 빌드로 테스트
- ✅ 테스트 광고만 클릭 (테스트 마크 있을 때)
- ✅ 릴리즈 빌드는 시각적 확인만
- ✅ 광고 영역 스크린샷 촬영
- ✅ 의심스러우면 클릭하지 않기

---

## ❓ FAQ

### Q1: 실수로 1번 클릭했어요. 어떻게 하죠?

**A**: 즉시 중단하고 이후 절대 클릭하지 마세요.
- 1-2회는 경고 수준
- AdMob 대시보드에서 "무효 클릭" 확인
- 반복되면 계정 정지
- 지금부터 디버그 빌드만 사용

---

### Q2: 내부 테스터인데 왜 테스트 광고가 안 나오나요?

**A**: 내부 테스터 ≠ 광고 테스트 기기입니다.
- Play Console 테스터 = 앱 배포 테스트
- AdMob 테스트 기기 = 광고 개발 테스트
- 완전히 다른 개념
- 내부 테스터도 실제 광고를 봄

---

### Q3: 그럼 릴리즈 테스트는 어떻게 하나요?

**A**: 시각적 확인만 하거나, 디버그 빌드를 사용하세요.
- **기능 테스트**: 디버그 빌드 (테스트 광고)
- **UX 확인**: 릴리즈 빌드 (시각적 확인만)
- **광고 테스트**: 절대 릴리즈에서 하지 말 것

---

### Q4: 친구에게 테스트 부탁해도 되나요?

**A**: 광고 클릭은 절대 부탁하지 마세요.
- 레이아웃 확인: ✅ OK
- 기능 테스트: ✅ OK
- 광고 클릭: ❌ 절대 금지
- 친구 클릭도 부정 클릭으로 감지 가능

---

### Q5: 테스트 마크가 없으면 무조건 실제 광고인가요?

**A**: 네, 릴리즈 빌드에서는 그렇습니다.
- 테스트 마크 있음 = 테스트 광고 (안전)
- 테스트 마크 없음 = 실제 광고 (위험)
- 의심스러우면 클릭하지 말 것

---

## 🎉 최종 정리

### 현재 상황

**귀하는**:
- ✅ 내부 테스터로 등록됨 (Play Console)
- ✅ 릴리즈 빌드 다운로드 받음
- ⚠️ 실제 광고를 보고 있음 (테스트 마크 없음)

**위험도**:
- 🔴 **높음**: 광고 클릭 시 계정 정지 위험

---

### 해야 할 것

**즉시**:
1. ⚠️ **광고 절대 클릭하지 않기**
2. 시각적 확인만 (레이아웃/위치)
3. 스크린샷 촬영
4. 내부 테스트 앱 종료

**앞으로**:
1. ✅ **디버그 빌드로 기능 테스트**
2. ✅ Android Studio에서 직접 설치
3. ✅ 테스트 광고로 안전하게 테스트
4. ✅ 릴리즈는 시각적 확인만

---

### 핵심 메시지

```
내부 테스터 ≠ 광고 테스트 모드

내부 테스터 = 일반 사용자와 동일한 광고
            = 실제 광고
            = 클릭 시 계정 정지 위험

해결책: 디버그 빌드 사용!
```

---

**작성일**: 2025-12-17  
**상태**: 🚨 즉시 조치 필요  
**권장**: 디버그 빌드로 전환 + 릴리즈 광고 클릭 금지

