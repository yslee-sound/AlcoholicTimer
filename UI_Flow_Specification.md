# 금주 타이머 앱 UI 플로우 기획서

## 1. 전체 화면 구성

### 1.1 주요 Activity
- **StartActivity**: 금주 목표 설정 및 시작
- **RunActivity**: 금주 진행 중 화면
- **QuitActivity**: 금주 중단 확인 화면
- **DetailActivity**: 금주 완료 상세 화면
- **RecordsActivity**: 금주 기록 조회
- **LevelActivity**: 금주 레벨 확인
- **SettingsActivity**: 앱 설정

## 2. 상세 UI 플로우

### 2.1 금주 시작 플로우

#### StartActivity (금주 목표 설정)
**기능**: 사용자가 금주 목표 일수를 설정하고 금주를 시작하는 화면

**UI 구성**:
- 상단: "목표 설정" 타이틀
- 중앙: 목표 일수 입력 필드 (기본값: 5일)
- 하단: 동그란 시작 버튼 (▶ 아이콘)

**사용자 액션**:
1. 목표 일수 입력 (숫자 터치 시 전체 선택되어 새 숫자로 교체)
2. 시작 버튼 클릭

**결과**:
- SharedPreferences에 start_time, target_days 저장
- **RunActivity로 이동**

---

### 2.2 금주 진행 플로우

#### RunActivity (금주 진행 중)
**기능**: 금주가 진행되는 동안 실시간으로 진행 상황을 표시

**UI 구성**:
- 상단 좌측: "목표: X일"
- 상단 중앙: 현재 레벨명
- 상단 우측: 현재 진행 시간 (HH:MM:SS)
- 중앙: 순환 가능한 지표 (클릭으로 변경)
  - 금주 일수
  - 진행 시간
  - 현재 레벨
  - 절약한 금액
  - 절약한 시간
  - 기대 수명
- 진행률 바: "진행률: X%" + 프로그레스 바
- 하단: 검은 원형 중지 버튼 (■ 아이콘)

**자동 진행**:
- 1초마다 시간 업데이트
- 진행률 계산: (경과 시간 / 목표 일수) × 100%
- **진행률 100% 달성 시**: 자동으로 DetailActivity로 이동

**사용자 액션**:
1. 중앙 지표 클릭: 다음 지표로 순환
2. 중지 버튼 클릭: **QuitActivity로 이동**

---

### 2.3 금주 중단 플로우

#### QuitActivity (금주 중단 확인)
**기능**: 사용자가 금주를 중단하려 할 때 나타나는 확인 화면

**UI 구성**:
- 상단: 🍃 아이콘
- 중앙: 현재까지의 금주 통계 (2행 3열)
  - 상단: 금주 일수, 레벨명, 경과 시간
  - 하단: 절약 금액, 절약 시간, 기대 수명
- 구분선
- 하단: 2개 버튼
  - 왼쪽: 검은 중지 버튼 (■ 아이콘)
  - 오른쪽: 계속 버튼 (▶ 아이콘, 레벨별 색상)

**사용자 액션**:
1. **중지 버튼 클릭**:
   - 금주 기록을 "중지" 상태로 저장
   - SharedPreferences 초기화
   - **StartActivity로 이동** (새로운 금주 시작 가능)

2. **계속 버튼 클릭**:
   - **RunActivity로 돌아가기** (금주 계속 진행)

---

### 2.4 금주 완료 플로우

#### DetailActivity (금주 완료 상세)
**기능**: 금주 목표를 100% 달성했을 때 나타나는 축하 및 상세 화면

**진입 경로**:
- **RunActivity에서 자동 이동** (진행률 100% 달성 시)
- **RecordsActivity에서 기록 클릭** (과거 기록 조회)

**UI 구성**:
- 상단: 뒤로가기 버튼, "금주 기록 상세" 타이틀
- 날짜/시간: "YYYY-MM-DD - 오후 H:MM"
- 기록 제목: "금주 X일 달성 기록" (자동 생성)
- 메인 통계:
  - 왼쪽: 대형 일수 (72sp)
  - 오른쪽: 성취 아이콘 (🏆) + "목표 달성"
- 서브 통계 (2행 3열):
  - 1행: 총 금주 기간, 절약한 금액, 절약한 시간
  - 2행: 목표 달성률, 달성 레벨, 기대 수명 증가
- 하단: "확인" 버튼 (검은 배경)

**사용자 액션**:
1. 뒤로가기 버튼 클릭: 이전 화면으로
2. 확인 버튼 클릭: 화면 종료

---

### 2.5 기록 조회 플로우

#### RecordsActivity (금주 기록)
**기능**: 과거 금주 기록들을 카드 형태로 조회

**UI 구성**:
- "최근 활동" 섹션
- 기록 카드들 (완료/중지 상태별 색상 구분)
- 기록이 없을 시: 안내 메시지

**사용자 액션**:
- 기록 카드 클릭: **DetailActivity로 이동** (해당 기록 상세 조회)

---

## 3. 핵심 플로우 요약

### 3.1 정상 완료 플로우
```
StartActivity → RunActivity → DetailActivity
(목표 설정)   (진행 중)    (100% 달성 시 자동)
```

### 3.2 중단 플로우
```
StartActivity → RunActivity → QuitActivity → StartActivity
(목표 설정)   (진행 중)    (중지 버튼)   (중지 확인)
```

### 3.3 중단 후 재개 플로우
```
StartActivity → RunActivity → QuitActivity → RunActivity
(목표 설정)   (진행 중)    (중지 버튼)   (계속 버튼)
```

### 3.4 기록 조회 플로우
```
RecordsActivity → DetailActivity
(기록 목록)     (카드 클릭)
```

---

## 4. 데이터 저장 시점

### 4.1 목표 달성 완료
- **시점**: RunActivity에서 진행률 100% 달성 시
- **데이터**: isCompleted = true, status = "완료"
- **이동**: DetailActivity (자동)

### 4.2 중도 중단
- **시점**: QuitActivity에서 중지 버튼 클릭 시
- **데이터**: isCompleted = false, status = "중지"
- **이동**: StartActivity

---

## 5. 특수 상황 처리

### 5.1 앱 재시작 시
- start_time이 있으면 RunActivity로 이동
- 없으면 StartActivity 표시

### 5.2 백그라운드 진행
- 앱이 백그라운드에 있어도 시간은 계속 진행
- 포그라운드 복귀 시 실시간 업데이트

### 5.3 목표 달성 중 앱 종료
- 다음 실행 시 달성 여부 자동 확인
- 달성되었다면 DetailActivity 표시

---

## 6. UI/UX 원칙

### 6.1 일관성
- 모든 화면에서 동일한 디자인 언어 사용
- 버튼 스타일과 색상 체계 통일

### 6.2 직관성
- 명확한 아이콘 사용 (▶ 시작/계속, ■ 중지/종료)
- 레벨별 색상으로 진행 상황 시각화

### 6.3 피드백
- 목표 달성 시 축하 메시지와 성취 아이콘
- 진행 상황을 실시간으로 시각적 표시

이 기획서를 바탕으로 각 화면의 역할과 플로우가 명확해졌습니다.
